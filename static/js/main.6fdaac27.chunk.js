(this["webpackJsonpwhat-if-frontend"]=this["webpackJsonpwhat-if-frontend"]||[]).push([[0],{123:function(e,t,c){},141:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(18),r=c.n(a),i=c(33),o=c(17),s=c(42),j=c(143),d=c(108),l=c(59),u=c(5);var b=function(e){return console.log(e.rooms),Object(u.jsx)("div",{children:Object(u.jsxs)("table",{children:[Object(u.jsxs)("colgroup",{children:[Object(u.jsx)("col",{width:"10%"})," ",Object(u.jsx)("col",{width:"10%"})," ",Object(u.jsx)("col",{width:"40%"})," ",Object(u.jsx)("col",{width:"40%"})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\ubc88\ud638"})," ",Object(u.jsx)("th",{children:"\uc81c\ubaa9"})," ",Object(u.jsx)("th",{children:"\uc870\ud68c\uc218"})]}),e.rooms.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.id}),Object(u.jsx)(l.a,{to:"/room/".concat(e.id),children:Object(u.jsx)("td",{children:e.title})}),Object(u.jsx)("td",{children:e.views})]})}))]})})},h=c(58),O=c(53),m=Object(O.b)({name:"room",initialState:{id:0,title:"",tag:"",content:"",image:null,imageURL:"",views:0,date:new Date(Date.now()),editDate:new Date(Date.now())},reducers:{registerRoom:function(e,t){var c=t.payload;console.log(c)},getRoom:function(e,t){var c=t.payload;console.log(c)},getRoomAsync:function(e,t){var c=t.payload;return Object(h.a)(Object(h.a)({},e),{},{id:c.id,title:c.title,tag:c.tag,content:c.content,image:c.image,imageURL:c.imageURL,views:c.views,date:c.date,editDate:c.editDate})}}}),g=m.reducer,x=m.actions,v=c(144),p=v.a.TextArea;var f=function(e){return Object(u.jsx)("div",{style:{maxWidth:"700px",margin:"2rem auto"},children:Object(u.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(u.jsx)("br",{}),Object(u.jsxs)("div",{style:{maxWidth:"700px",margin:"2rem"},children:[Object(u.jsx)(v.a,{onChange:e.handleTitleChange,value:e.titleValue,type:"text",name:"title",placeholder:":\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694"}),Object(u.jsx)("hr",{}),Object(u.jsx)(v.a,{onChange:e.handleTagChange,value:e.tagValue,type:"text",name:"tag",placeholder:"#\ud0dc\uadf8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694(\ucd5c\ub300 3\uac1c)"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{children:Object(u.jsx)(p,{onChange:e.handleContentChange,value:e.contentValue,name:"content"})}),Object(u.jsx)(v.a,{onChange:e.handleImageChange,accept:"image/jpg,image/png,image/jpeg,image/gif",type:"file",name:"image"}),e.imagePreview]}),Object(u.jsx)(d.a,{type:"danger",onClick:e.handleSubmit,children:e.updateRequest?"\uc218\uc815":"\ub4f1\ub85d"})]})})};var w=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return{views:e.roomReducers.views,date:e.roomReducers.date,editDate:""}})),c=t.views,a=t.date,r=t.editDate,o=Object(n.useState)(""),j=Object(s.a)(o,2),d=j[0],l=j[1],b=Object(n.useState)(""),h=Object(s.a)(b,2),O=h[0],m=h[1],g=Object(n.useState)(""),v=Object(s.a)(g,2),p=v[0],w=v[1],R=Object(n.useState)(null),y=Object(s.a)(R,2),C=y[0],S=y[1],L=Object(n.useState)(""),D=Object(s.a)(L,2),T=D[0],U=D[1],k=Object(n.useState)(!1),V=Object(s.a)(k,2),A=V[0],I=(V[1],null);return null!==C&&(I=Object(u.jsx)("img",{className:"image_preview",src:T,width:"250",height:"250"})),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(f,{titleValue:d,tagValue:O,contentValue:p,imageValue:C,imageURLValue:T,imagePreview:I,handleTitleChange:function(e){l(e.currentTarget.value)},handleTagChange:function(e){m(e.currentTarget.value)},handleContentChange:function(e){w(e.currentTarget.value)},handleImageChange:function(e){e.preventDefault();var t=new FileReader,c=e.target.files[0];c&&t.readAsDataURL(c),t.onloadend=function(){S(c),U(t.result)}},handleSubmit:function(t){if(t.preventDefault(),""===d||null===d||void 0===d)return alert("\uc81c\ubaa9\uc744 \uc791\uc131\ud558\uc2ed\uc2dc\uc624."),!1;if(""===O||null===O||void 0===O)return alert("\ud0dc\uadf8\ub97c \uc791\uc131\ud558\uc2ed\uc2dc\uc624."),!1;if(""===p||null===p||void 0===p)return alert("\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc2ed\uc2dc\uc624."),!1;if(""===C||null===C||void 0===C)return alert("\uc774\ubbf8\uc9c0\ub97c \ub123\uc73c\uc2ed\uc2dc\uc624."),!1;var n={title:d,tag:O,content:p,image:C,imageURL:T,views:c,date:a,editDate:r};return e(x.registerRoom(n)),l(""),m(""),w(""),S(null),U(""),!0},updateRequest:A})})},R=Object(O.b)({name:"rooms",initialState:{rooms:[],isLoading:!0,isSuccess:!1,error:null},reducers:{getRooms:function(e,t){t.payload;console.log("getRooms \uc561\uc158 \ud638\ucd9c")},getRoomsAsync:function(e,t){var c=t.payload;return Object(h.a)(Object(h.a)({},e),{},{rooms:c,isSuccess:!0,isLoading:!1})}}}),y=R.reducer,C=R.actions,S=j.a.Title;var L=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(i.b)();Object(n.useEffect)((function(){r(C.getRooms())}),[r]);var o=Object(i.c)((function(e){return e.roomsReducers.rooms}));return Object(u.jsxs)("div",{style:{maxWidth:"700px",margin:"2rem auto"},children:[Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:"Best"})}),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.a,{type:"primary",onClick:function(){return a(!c)},children:"+"}),c&&Object(u.jsx)(w,{})]}),Object(u.jsx)("div",{children:Object(u.jsx)(b,{rooms:o})})]})},D=j.a.Title;var T=function(e){return Object(u.jsxs)("div",{style:{width:"80%",margin:"3rem auto"},children:[Object(u.jsx)("div",{style:{margin:"2rem auto"},children:Object(u.jsx)(l.a,{to:"/",children:Object(u.jsx)(d.a,{type:"primary",children:"\ubaa9\ub85d\uc73c\ub85c \uac00\uae30"})})}),Object(u.jsx)("div",{style:{textAlign:"center"},children:Object(u.jsx)(D,{children:"\ubc29"})}),Object(u.jsx)("div",{children:Object(u.jsxs)("table",{children:[Object(u.jsxs)("colgroup",{children:[Object(u.jsx)("col",{width:"10%"})," ",Object(u.jsx)("col",{width:"40%"})," ",Object(u.jsx)("col",{width:"10%"})," ",Object(u.jsx)("col",{width:"40%"})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\ubc88\ud638"})," ",Object(u.jsx)("td",{children:e.id})," ",Object(u.jsx)("th",{children:"\uc870\ud68c\uc218"})," ",Object(u.jsx)("td",{children:e.views})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\uc81c\ubaa9"})," ",Object(u.jsx)("td",{colspan:"3",children:e.title})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\ud0dc\uadf8"})," ",Object(u.jsx)("td",{colspan:"3",children:e.tag})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\uc774\ubbf8\uc9c0URL"}),Object(u.jsx)("td",{colspan:"3",children:Object(u.jsx)("img",{className:"image",src:e.imageURL,width:"250",height:"250"})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\ub0b4\uc6a9"})," ",Object(u.jsx)("td",{colspan:"3",children:e.content})]})]})})]})};var U=function(e){var t=e.match,c=(e.location,Object(i.b)());Object(n.useEffect)((function(){c(x.getRoom(t.params.roomId))}),[t.params.roomId]);var a=Object(i.c)((function(e){return{id:e.roomReducers.id,title:e.roomReducers.title,tag:e.roomReducers.tag,content:e.roomReducers.content,imageURL:e.roomReducers.imageURL}})),r=a.id,o=a.title,s=a.tag,j=a.content,d=(a.image,a.imageURL),l=Object(i.c)((function(e){return e.roomReducers.date})),b=Object(i.c)((function(e){return e.roomReducers.views}));return Object(u.jsx)("div",{children:Object(u.jsx)(T,{id:r,title:o,tag:s,content:j,imageURL:d,views:b,date:l})})};c(123);var k=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",component:L}),Object(u.jsx)(o.a,{exact:!0,path:"/room/:roomId",component:U})]})})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,145)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))},A=c(109),I=c(106),F=c.n(I),P=c(27),B=Object(P.c)({roomReducers:g,roomsReducers:y}),E=c(39),W=c.n(E),q=c(46),J=c(63),N=c.n(J),_=c(31),z=Object(_.a)(),G=W.a.mark(K),H=W.a.mark(M);function K(e){var t,c;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,N.a.post("http://localhost:4000/room",t);case 3:return c=n.sent,n.next=6,alert("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 6:console.log(c.data.id),z.push("/room/".concat(c.data.id),c.data.id);case 8:case"end":return n.stop()}}),G)}function M(e){var t,c;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,N.a.get("http://localhost:4000/room/".concat(t));case 3:return c=n.sent,console.log(c.data),n.next=7,Object(q.a)(x.getRoomAsync(c.data));case 7:case"end":return n.stop()}}),H)}var Q=W.a.mark(X);function X(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("http://localhost:4000/room");case 2:return e=t.sent,t.next=5,Object(q.a)(C.getRoomsAsync(e.data));case 5:case"end":return t.stop()}}),Q)}var Y=W.a.mark(te),Z=x.registerRoom,$=x.getRoom,ee=C.getRooms;function te(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.c)(Z.type,K);case 2:return e.next=4,Object(q.b)($.type,M);case 4:return e.next=6,Object(q.b)(ee.type,X);case 6:case"end":return e.stop()}}),Y)}var ce=Object(A.a)({context:{history:z}}),ne=Object(O.a)({reducer:B,middleware:[ce,F.a],devTools:!0,preloadedState:{}});ce.run(te);var ae=ne;r.a.render(Object(u.jsx)(i.a,{store:ae,children:Object(u.jsx)(o.b,{history:z,children:Object(u.jsx)(k,{})})}),document.getElementById("root")),V()}},[[141,1,2]]]);
//# sourceMappingURL=main.6fdaac27.chunk.js.map