(this["webpackJsonpwhat-if-frontend"]=this["webpackJsonpwhat-if-frontend"]||[]).push([[0],{123:function(e,t,c){},141:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(18),o=c.n(n),r=c(35),i=c(17),s=c(48),d=c(143),l=c(108),j=c(49),u=c(5);var m=function(e){var t=e.rooms;return console.log(t),Object(u.jsx)("div",{children:Object(u.jsxs)("table",{children:[Object(u.jsxs)("colgroup",{children:[Object(u.jsx)("col",{width:"10%"})," ",Object(u.jsx)("col",{width:"10%"})," ",Object(u.jsx)("col",{width:"40%"})," ",Object(u.jsx)("col",{width:"40%"})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\ubc88\ud638"})," ",Object(u.jsx)("th",{children:"\uc81c\ubaa9"})," ",Object(u.jsx)("th",{children:"\uc870\ud68c\uc218"})]}),t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.id}),Object(u.jsx)(j.a,{to:"/room/".concat(e.id),children:Object(u.jsx)("td",{children:e.title})}),Object(u.jsx)("td",{children:e.views})]})}))]})})},h=c(38),b=c(56),g=Object(b.b)({name:"room",initialState:{id:0,title:"",tag:"",content:"",image:null,imageURL:"",views:0,date:new Date(Date.now()),editDate:""},reducers:{registerRoom:function(e,t){var c=t.payload;console.log(c)},getRoom:function(e,t){var c=t.payload;console.log(c)},getRoomAsync:function(e,t){var c=t.payload;return console.log("saga\uc5d0\uc11c put \uc561\uc158 \ud638\ucd9c -- getRoomAsync"),Object(h.a)(Object(h.a)({},e),{},{id:c.id,title:c.title,tag:c.tag,content:c.content,image:c.image,imageURL:c.imageURL,views:c.views,date:c.date,editDate:c.editDate})},putRoom:function(e,t){t.payload;console.log("\ubc29 \uc218\uc815 \uc561\uc158 \ud638\ucd9c -- putRoom")},putRoomAsync:function(e,t){var c=t.payload;return console.log(c),Object(h.a)(Object(h.a)({},e),{},{id:c.id,title:c.title,tag:c.tag,content:c.content,image:c.image,imageURL:c.imageURL,views:c.views,date:c.date,editDate:c.editDate})},fetchRoom:function(e,t){t.payload;console.log("\ubc29 \uc870\ud68c \uc561\uc158 \ud638\ucd9c -- fetchRoom")},deleteRoom:function(e,t){t.payload;console.log("\ubc29 \uc0ad\uc81c \uc561\uc158 \ud638\ucd9c -- deleteRoom")}}}),O=g.reducer,x=g.actions,p=c(144),v=p.a.TextArea;var f=function(e){var t=e.updateRequest,c=e.handleSubmit,a=e.handleTitleChange,n=e.handleTagChange,o=e.handleContentChange,r=e.handleImageChange,i=e.titleValue,s=e.tagValue,d=e.contentValue,j=e.imagePreview,m=e.imageValue;return Object(u.jsx)("div",{style:{maxWidth:"700px",margin:"2rem auto"},children:Object(u.jsxs)("form",{onSubmit:c,children:[Object(u.jsx)("br",{}),Object(u.jsxs)("div",{style:{maxWidth:"700px",margin:"2rem"},children:[Object(u.jsx)(p.a,{onChange:a,value:i,type:"text",name:"title",placeholder:":\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694"}),Object(u.jsx)("hr",{}),Object(u.jsx)(p.a,{onChange:n,value:s,type:"text",name:"tag",placeholder:"#\ud0dc\uadf8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694(\ucd5c\ub300 3\uac1c)"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{children:Object(u.jsx)(v,{onChange:o,value:d,name:"content"})}),Object(u.jsx)(p.a,{onChange:r,accept:"image/jpg,image/png,image/jpeg,image/gif",type:"file",name:"image",id:"image",style:{display:"none"}}),Object(u.jsx)(l.a,{children:Object(u.jsx)("label",{for:"image",children:null===m||void 0===m?void 0:m.name})}),j]}),Object(u.jsx)(l.a,{type:"danger",onClick:c,children:t?"\uc218\uc815":"\ub4f1\ub85d"})]})})};var R=function(e){var t=e.IsForUpdate,c=e.idParam,n=Object(r.b)(),o=Object(r.c)((function(e){return{id:e.roomReducers.id,title:e.roomReducers.title,tag:e.roomReducers.tag,content:e.roomReducers.content,image:e.roomReducers.image,imageURL:e.roomReducers.imageURL,views:e.roomReducers.views,date:e.roomReducers.date,editDate:e.roomReducers.editDate}})),i=o.id,d=o.title,l=o.tag,j=o.content,m=o.image,h=o.imageURL,b=o.views,g=o.date,O=(o.editDate,{name:"Select Image"}),p=Object(a.useState)(""),v=Object(s.a)(p,2),R=v[0],y=v[1],w=Object(a.useState)(""),L=Object(s.a)(w,2),S=L[0],C=L[1],U=Object(a.useState)(""),D=Object(s.a)(U,2),A=D[0],k=D[1],I=Object(a.useState)(O),T=Object(s.a)(I,2),F=T[0],V=T[1],P=Object(a.useState)(""),E=Object(s.a)(P,2),W=E[0],B=E[1];Object(a.useEffect)((function(){if(!t)return y(""),C(""),k(""),V(O),void B("");n(x.fetchRoom(c)),console.log(c)}),[t]),Object(a.useEffect)((function(){t&&(y(d),C(l),k(j),V(m),B(h))}),[d,l,j,m,h]);var q=W?Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:"image_preview",src:W,height:"100%",width:"250px"})}):null,J=t?x.putRoom:x.registerRoom,N=["\uc81c\ubaa9","\ud0dc\uadf8","\ub0b4\uc6a9","\uc774\ubbf8\uc9c0"],_=[R,S,A,F];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(f,{titleValue:R,tagValue:S,contentValue:A,imageValue:F,imageURLValue:W,imagePreview:q,handleTitleChange:function(e){y(e.currentTarget.value)},handleTagChange:function(e){C(e.currentTarget.value)},handleContentChange:function(e){k(e.currentTarget.value)},handleImageChange:function(e){e.preventDefault();var t=new FileReader,c=e.target.files[0];c&&t.readAsDataURL(c),t.onloadend=function(){var e={};for(var a in c)e[a]=c[a];console.log(e),V(e),B(t.result)}},handleSubmit:function(e){e.preventDefault();for(var t=0;t<N.length;t++){if(!_[t])return alert("".concat(N[t],"\ub97c \uc785\ub825\ud558\uc138\uc694.")),!1}var c={title:R,tag:S,content:A,image:F,imageURL:W,views:b,date:g,editDate:new Date(Date.now())};i&&(c.id=i),y(""),C(""),k(""),V(null),B(""),n(J(c))},updateRequest:t})})},y=Object(b.b)({name:"rooms",initialState:{rooms:[],isLoading:!0,isSuccess:!1,error:null},reducers:{getRooms:function(e,t){t.payload;console.log("\ubc29 \ubaa9\ub85d \uc870\ud68c \uc561\uc158 \ud638\ucd9c - getRooms")},getRoomsAsync:function(e,t){var c=t.payload;return console.log("saga\uc5d0\uc11c put \uc561\uc158 \ud638\ucd9c - getRoomsAsyncs"),Object(h.a)(Object(h.a)({},e),{},{rooms:c,isSuccess:!0,isLoading:!1})},getRoomsFailedAsync:function(e,t){var c=t.payload;return console.log("saga\uc5d0\uc11c put \uc561\uc158 \ud638\ucd9c - getRoomsFailedAsync"),Object(h.a)(Object(h.a)({},e),{},{isLoading:!1,error:c})}}}),w=y.reducer,L=y.actions,S=d.a.Title;var C=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),c=t[0],n=t[1],o=Object(r.b)();Object(a.useEffect)((function(){o(L.getRooms())}),[o]);var i=Object(r.c)((function(e){return{rooms:e.roomsReducers.rooms,isLoading:e.roomsReducers.isLoading,isSuccess:e.roomsReducers.isSuccess,error:e.roomsReducers.error}})),d=i.rooms,j=(i.isLoading,i.isSuccess),h=i.error,b=Object(u.jsx)(R,{IsForUpdate:!1,idParam:void 0});return Object(u.jsxs)("div",{style:{maxWidth:"700px",margin:"2rem auto"},children:[Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:"Best"})}),Object(u.jsxs)("div",{children:[Object(u.jsx)(l.a,{type:"primary",onClick:function(){return n(!c)},children:"+"}),c&&b]}),Object(u.jsx)("div",{children:h?Object(u.jsxs)("h2",{children:["\uc5d0\ub7ec \ubc1c\uc0dd: ",h]}):j&&d.length>0?Object(u.jsx)(m,{rooms:d}):j&&d.length<=0?Object(u.jsx)("p",{children:" \uc870\ud68c\ud560 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. "}):Object(u.jsx)("p",{children:" \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911\uc785\ub2c8\ub2e4. "})})]})},U=d.a.Title;var D=function(e){var t=e.id,c=e.views,a=e.title,n=e.tag,o=e.imageURL,r=e.content,i=e.date,s=e.handleDeleteClick;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{style:{margin:"2rem auto"},children:Object(u.jsx)(j.a,{to:"/",children:Object(u.jsx)(l.a,{type:"primary",children:"\ubaa9\ub85d\uc73c\ub85c \uac00\uae30"})})}),Object(u.jsx)("div",{style:{textAlign:"center"},children:Object(u.jsxs)(U,{children:[t,"\ubc88\uc9f8 \ubc29"]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("table",{children:[Object(u.jsxs)("colgroup",{children:[Object(u.jsx)("col",{width:"10%"})," ",Object(u.jsx)("col",{width:"40%"})," ",Object(u.jsx)("col",{width:"10%"})," ",Object(u.jsx)("col",{width:"40%"})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\ubc88\ud638"})," ",Object(u.jsx)("td",{children:t})," ",Object(u.jsx)("th",{children:"\uc870\ud68c\uc218"})," ",Object(u.jsx)("td",{children:c})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\uc81c\ubaa9"})," ",Object(u.jsx)("td",{colSpan:"3",children:a})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\ud0dc\uadf8"})," ",Object(u.jsx)("td",{colSpan:"3",children:n})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\uc774\ubbf8\uc9c0URL"}),Object(u.jsx)("td",{colSpan:"3",children:Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:"image",src:o,height:"100%",width:"250px"})})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\ub0b4\uc6a9"})," ",Object(u.jsx)("td",{colSpan:"3",children:r})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\ub0a0\uc9dc"})," ",Object(u.jsx)("td",{colSpan:"3",children:new Date(i).toLocaleString()})]})]})}),Object(u.jsx)("div",{style:{margin:"2rem auto"},children:Object(u.jsx)(j.a,{to:{pathname:"/edit/".concat(t),search:"",state:{id:t,title:a,tag:n,content:r,imageURL:o}},children:Object(u.jsx)(l.a,{type:"primary",children:"\uc218\uc815"})})}),Object(u.jsx)("div",{style:{margin:"auto"},children:Object(u.jsx)(l.a,{onClick:s,type:"danger",children:"\uc0ad\uc81c"})})]})};var A=function(e){var t,c,n=e.match,o=Object(r.b)(),i=null!==(t=null===n||void 0===n||null===(c=n.url)||void 0===c?void 0:c.startsWith("/edit"))&&void 0!==t&&t;Object(a.useEffect)((function(){o(x.getRoom(n.params.roomId))}),[n.params.roomId]);var s=Object(r.c)((function(e){return{id:e.roomReducers.id,title:e.roomReducers.title,tag:e.roomReducers.tag,content:e.roomReducers.content,image:e.roomReducers.image,imageURL:e.roomReducers.imageURL}})),d=s.id,l=s.title,j=s.tag,m=s.content,h=(s.image,s.imageURL),b=Object(r.c)((function(e){return e.roomReducers.date})),g=Object(r.c)((function(e){return e.roomReducers.views}));return i?Object(u.jsx)(R,{IsForUpdate:!0,idParam:n.params.roomId}):Object(u.jsx)("div",{style:{width:"80%",margin:"3rem auto"},children:Object(u.jsx)(D,{id:d,title:l,tag:j,content:m,imageURL:h,views:g,date:b,handleDeleteClick:function(){if(!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return!1;o(x.deleteRoom(d))}})})};c(123);var k=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",component:C}),Object(u.jsx)(i.a,{exact:!0,path:"/room/:roomId",component:A}),Object(u.jsx)(i.a,{exact:!0,path:"/edit/:roomId",component:A})]})})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,145)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,o=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),o(e),r(e)}))},T=c(109),F=c(106),V=c.n(F),P=c(28),E=Object(P.c)({roomReducers:O,roomsReducers:w}),W=c(26),B=c.n(W),q=c(33),J=c(44),N=c.n(J),_=c(32),z=Object(_.a)(),G=B.a.mark(X),H=B.a.mark(Y),K=B.a.mark(Z),M=B.a.mark($),Q=B.a.mark(ee);function X(e){var t,c;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,N.a.post("http://localhost:4000/room",t);case 3:return c=a.sent,a.next=6,alert("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 6:console.log(c.data.id),z.push("/room/".concat(c.data.id),c.data.id);case 8:case"end":return a.stop()}}),G)}function Y(e){var t,c,a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,N.a.get("http://localhost:4000/room/".concat(t));case 3:return c=n.sent,n.next=6,N.a.put("http://localhost:4000/room/".concat(t),Object(h.a)(Object(h.a)({},c.data),{},{views:parseInt(c.data.views,10)+1}));case 6:return a=n.sent,n.next=9,Object(q.a)(x.getRoomAsync(a.data));case 9:case"end":return n.stop()}}),H)}function Z(e){var t,c;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,console.log("putRoomAsync",e.payload),a.next=4,N.a.put("http://localhost:4000/room/".concat(t.id),t);case 4:return c=a.sent,a.next=7,Object(q.a)(x.putRoomAsync(c.data));case 7:z.push("/room/".concat(c.data.id),c.data.id);case 8:case"end":return a.stop()}}),K)}function $(e){var t,c;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),t=e.payload,a.next=4,N.a.get("http://localhost:4000/room/".concat(t));case 4:return c=a.sent,a.next=7,Object(q.a)(x.getRoomAsync(c.data));case 7:case"end":return a.stop()}}),M)}function ee(e){var t;return B.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(e),t=e.payload,c.next=4,N.a.delete("http://localhost:4000/room/".concat(t));case 4:console.log("{id}\ubc88 \uc0ad\uc81c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),z.push("/");case 6:case"end":return c.stop()}}),Q)}var te=B.a.mark(ce);function ce(){var e;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get("http://localhost:4000/room");case 3:return e=t.sent,t.next=6,Object(q.a)(L.getRoomsAsync(e.data));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(q.a)(L.getRoomsFailedAsync(t.t0.message));case 12:case"end":return t.stop()}}),te,null,[[0,8]])}var ae=B.a.mark(le),ne=x.registerRoom,oe=x.getRoom,re=x.putRoom,ie=x.fetchRoom,se=x.deleteRoom,de=L.getRooms;function le(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.c)(ne.type,X);case 2:return e.next=4,Object(q.c)(re.type,Z);case 4:return e.next=6,Object(q.b)(oe.type,Y);case 6:return e.next=8,Object(q.b)(de.type,ce);case 8:return e.next=10,Object(q.b)(ie.type,$);case 10:return e.next=12,Object(q.c)(se.type,ee);case 12:case"end":return e.stop()}}),ae)}var je=Object(T.a)({context:{history:z}}),ue=Object(b.a)({reducer:E,middleware:[je,V.a],devTools:!0,preloadedState:{}});je.run(le);var me=ue;o.a.render(Object(u.jsx)(r.a,{store:me,children:Object(u.jsx)(i.b,{history:z,children:Object(u.jsx)(k,{})})}),document.getElementById("root")),I()}},[[141,1,2]]]);
//# sourceMappingURL=main.556618a4.chunk.js.map